<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>[Fast!>>|]</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-responsive.min.css">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/github.css">
</head>

<body style="visibility:hidden">

    <div class="container-fluid">

        <div class="hero-unit" style="padding-top:15px; padding-bottom:15px;">
            <h1>Fast <i class="icon-exclamation-sign" style="font-size:80%"></i> <i class="icon-fast-forward" style="font-size:80%"></i> forward</h1>
            <h2>Speedy Web Framework for <a href="http://golo-lang.org/">Golo</a></h2>
            <h3>Born to make Single Page Web Applications.</h3>
            <h5>Completely inspired by <a href="http://www.playframework.com/">Play <i class="icon-play"></i></a></h5>
            <span><i class="icon-github-alt"></i> <a href="https://github.com/k33g/fastforward">Fork this site on GitHub</a></span>
            <h4><i class="icon-hand-right"></i> Pull Requests accepted</h4>
        </div>        
        <!-- template -->
        <script type="text/template" id="rubrics_tpl">

        </script>

        <div class="row-fluid">
            <div> <!--controller-->
                <h2>Controller</h2>
                <pre><code data-language="generic" id="config" style="font-size: 110%;">
module mycontroller

import fastforward.java.extensions.Json
import java.util.HashMap

#golo modules
import content
import constants
import httpconnection

function mycontroller = -> DynamicObject():
    define("postInfos", |this, httpConnection| {
        var values = httpConnection: postValues()
        println(values)
        return Flow(): init(
            values, 
            ContentType(): JSON()
        )
    }):
    define("giveMeBigJsonObject", |this, httpConnection| {
        var human = HashMap()
        var address = HashMap()

        address: put("street", "Champs-Elys√©es")
        address: put("town", "Paris")

        human: put("firstName","Bob")
        human: put("lastName","Morane")
        human: put("address", address)

        println(human)
        return Flow(): init(
            Json.stringify(Json.toJson(human)), 
            ContentType(): JSON()
        )
    })
                </code></pre>
            </div> <!-- end controller-->

            <div> <!--routes-->
                <h2>Routes</h2>
                <pre><code data-language="generic" id="config" style="font-size: 110%;">
module routes

#golo modules : controllers
import application
import mycontroller

#=== ROUTES ===
function action = |route, httpConnection| -> match {
    when route: startsWith("POST:/infos")      then mycontroller(): postInfos(httpConnection)
    when route: equals("GET:/bigjson")         then mycontroller(): giveMeBigJsonObject(httpConnection)
    otherwise null
}
                </code></pre>
            </div><!-- end routes-->

            <div> <!--html-->
                <h2>HTML side</h2>
                <pre><code data-language="generic" id="config" style="font-size: 110%;">
//POST
$.ajax({
    type : "POST", 
    url : "infos", 
    dataType : "JSON", 
    data : '{"firstName":"Bob","lastName":"Morane"}', 
    success : function (data) {
        console.log(data);
    }
});

//GET
$.ajax({
    type : "GET", 
    url : "bigjson", 
    success : function (data) {
        console.log(data);
    }
});

                </code></pre>
            </div><!-- end html-->

            <div> <!--server send events-->
                <h2>HTML5 Server Send Events</h2>
                <pre><code data-language="generic" id="config" style="font-size: 110%;">
#to be continued ...
                </code></pre>
            </div><!-- end server send events-->

            <div> <!--workers-->
                <h2>Workers</h2>
                <pre><code data-language="generic" id="config" style="font-size: 110%;">
#to be continued ...
                </code></pre>
            </div><!-- end workers-->

            <div> <!--html dsl-->
                <h2>HTML DSL</h2>
                <pre><code data-language="generic" id="config" style="font-size: 110%;">
html(): 
    $(head(): 
            $(title(): innerText("Hello"))
    ):
    $(body(): 
            $(div(): style("border:solid; border-color:red"):
                $(h1(): style("color:green;"): innerHTML(message)):
                $(h2(): style("color:blue;"): innerHTML(otherMessage))
            ):
            $(p():innerHTML("yes, i know, it's creepy"))
        ):
    gen()
                </code></pre>
            </div><!-- end html dsl-->

        </div>

    </div>


    <script  type="text/javascript" src="js/vendors/jquery-1.9.1.min.js"></script>
    <script  type="text/javascript" src="js/vendors/underscore-min.js"></script>
    <script  type="text/javascript" src="js/vendors/backbone-min.js"></script>
    <script src="js/vendors/rainbow.min.js"></script>
    <script src="js/vendors/generic.js"></script>

    <script>


        $(function (){
            Rainbow.color();
            $("body").css("visibility","visible");  /*<body style="visibility:hidden">*/

        });

    </script>

    <style>
        body {
            margin: 20px;
        }
    </style>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-11383603-11']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

</body>
</html>